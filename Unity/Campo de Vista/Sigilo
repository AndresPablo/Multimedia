using UnityEngine;

// Layers!
// Este objeto y su Collider tienen que estar en una capa (Layer) espec√≠fica que detecta el FoV (ver)

public class Sigilo : MonoBehaviour {

	[SerializeField]
	GameObject[] objOcultos;	// Lista de objetos a esconder (ej: hijos
	[SerializeField]
	bool siempreVisible;
	[Header("Opcional")]
	[SerializeField]
	Renderer renderOculto;	// Opcional: Esconder un render


	void Start()
	{
		if(!siempreVisible)
			Hide();
	}

	public void Reveal()
	{
		foreach(GameObject go in objOcultos)
		{
			go.SetActive(true);
		}
		
		if(renderOculto)
			renderOculto.enabled = true;
	}

	public void Hide()
	{
		if(siempreVisible)
			return;
			
		foreach(GameObject go in objOcultos)
		{
			go.SetActive(false);
		}

		if(renderOculto)
			renderOculto.enabled = false;
	}

}
